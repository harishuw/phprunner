
var norts=Array();if(localStorage.getItem("code_mode")==null){localStorage.setItem("code_mode","php")}if(localStorage.getItem("code_theme")==null){localStorage.setItem("code_theme","chrome")}$("#code_mode").val(localStorage.getItem("code_mode"));$("#code_theme").val(localStorage.getItem("code_theme"));var loaded=Array();var added_scripts=["jquery-2.0.3.min.js","bootstrap.min.js","ace.js","theme-chrome.js","mode-php.js","jquery-ace.min.js","tools.js"];$(document).ready(function(b){$("body").tooltip({selector:".tooltip_div"});$("#type,[name='lang']").change(function(a){show_result()});$("#phpinfo").click(function(a){a.preventDefault();$.post("index.php",{code:"phpinfo()",lang:"p"},function(d){$("#result").html(d);$("#mytabs li:eq(1)>a").tab("show")})});$("#savefile").popover({html:true,content:'<input placeholder="Name" type="text" class="form-control" id="sname"/><br/><a id="save_pop_btn" data-loading-text="Saving.." class="btn btn-success btn-xs" onclick="save_file()"><i class="glyphicon glyphicon-floppy-disk"></i> Save</a>'});$("#delete_confirm").on("show.bs.modal",function(){var a=$.trim($("#selectcode").val());var d=$.trim($("#selectcode option:selected").attr("data-type"));$("#del_fname").html("<b>"+a+" ("+d+")</b>?")});$(document.body).on("keydown","#sname",function(d){var a=[111,106,186,220,191,222,188];if(($.inArray(d.which,a)!=-1)||(d.which==56&&d.shiftKey)||(d.which==190&&d.shiftKey)){d.preventDefault()}});$("#selectcode").change(function(){var d=$.trim($(this).val());var a=$.trim($("#selectcode option:selected").attr("data-type"));if(d!="-1"){$.post("index.php?function=view",{fname:a+"/"+d},function(c){$("#type").val(c);$(".file_actions").show();if(a=="php"){$('[name="lang"][value="p"]').prop("checked",true);$("#type").blur()}else{if(a="html"){$('[name="lang"][value="h"]').prop("checked",true);$("#type").blur()}}$("#download_file").attr("href","index.php?function=download&file="+a+"/"+d+"&type="+a);re_code();$("#mytabs li:eq(1)>a").click()})}else{$(".file_actions").hide();$("#updatefile").hide()}});$("#updatefile").click(function(e){var a=$.trim($("#selectcode").val());var f=$.trim($("#selectcode option:selected").attr("data-type"));$("#updatefile").button("loading");$.post("index.php?function=update",{file:a,data:$("#type").val(),type:f},function(){$("#updatefile").button("reset")})});$("#nort_prev").click(function(){var e=$.trim($("#nort_msg").val());var f=$('[name="nort_type"]:checked').val();if(e==""){var a=create_element("p",{html:"Please enter message","class":"text-danger"});$("#nort_msg").after(a);$("#nort_msg").focus();return false}$("#nort_msg").next(".text-danger").remove();notify(e,f)});$("#nort_me").click(function(){var f=$.trim($("#nort_msg").val());var g=$('[name="nort_type"]:checked').val();var a=$.trim($("#nort_time").val());if(f==""){var h=create_element("p",{html:"Please enter message","class":"text-danger"});if($("#nort_msg").next(".text-danger").length==0){$("#nort_msg").after(h)}$("#nort_msg").focus();return false}$("#nort_msg").next(".text-danger").remove();if(a==""||isNaN(a)){var h=create_element("p",{html:"Please enter valid number","class":"text-danger"});if($("#nort_time").next(".text-danger").length==0){$("#nort_time").after(h)}$("#nort_time").focus();return false}$("#nort_time").next(".text-danger").remove();$("#nort_msg").val("");$("#nort_time").val("");$('[name="nort_type"][value="desk"]').prop("checked",true);notify(f,g,a);$("#notify_me").modal("hide")});$("#length_finder").keyup(function(a){$("#length_result").text($(this).val().length)}).change(function(){$("#length_result").text($(this).val().length)});re_code();if($("#result").text().trim()!=""){$("#mytabs li:eq(1)>a").tab("show");$("#mytabs li:eq(0)>a").one("click",function(){re_code()})}});function re_code(){var c=localStorage.getItem("code_mode");var d=localStorage.getItem("code_theme");insert_acejs(c,"mode");insert_acejs(d,"theme");if($.inArray(c,loaded)>=0&&$.inArray(d,loaded)>-0){make_ace(c,d)}else{setTimeout(function(){make_ace(c,d)},500)}}function make_ace(e,d){var f=$("#type").data("ace");if(f!=undefined){f.destroy()}$("#type").ace({theme:d,lang:e})}function show_result(){$.post("index.php",{code:$("#type").val(),lang:$("input[type=radio]:checked").val()},function(b){$("#result").html(b)})}function jstoarray(){$.post("index.php",{json:$("#type").val()},function(b){$("#result").html(b);$("#mytabs li:eq(1)>a").tab("show")})}function get_nortifify(e,f){if(!("Notification" in window)){console.log("This browser does not support desktop notification");alert(e,f)}else{if(Notification.permission==="granted"){var d=new Notification(e,{body:f});d.onclick=function(){window.focus();d.close()}}else{if(Notification.permission!=="denied"){Notification.requestPermission(function(b){if(b==="granted"){var a=new Notification(e,{body:f});a.onclick=function(){window.focus();a.close()}}else{alert(e,f)}})}else{alert(e,f)}}}}function save_file(){var d=$.trim($("#sname").val());if($.trim($("#type").val())==""){$("#sname").tooltip({title:"Code seems to be empty!!"});$("#sname").tooltip("show");return false}if(d==""){$("#sname").tooltip({title:"Please enter a name"});$("#sname").tooltip("show");return false}$("#save_pop_btn").button("loading");var c=$('[name="lang"]:checked').attr("data-type")!=""?$('[name="lang"]:checked').attr("data-type"):"html";$.post("index.php?function=save",{file:d,data:$("#type").val(),type:c},function(a){if($.trim(a)=="d"){$("#sname").tooltip({title:"Please enter a different name"});$("#sname").tooltip("show")}else{$("#selectcode").append("<option data-type='"+c+"' value='"+d+"'>"+d+"</option>");$("#sname").tooltip("destroy");$("#savefile").popover("hide");$("select").val(d).change()}$("#save_pop_btn").button("reset")})}function delete_file(f){var d=$.trim($("#selectcode option:selected").attr("data-type"));var e=$.trim($("#selectcode").val());if(e=="-1"){return false}f.button("loading");$.post("index.php?function=delete",{file:d+"/"+e},function(a){$("#selectcode option").each(function(){if($(this).attr("value")==e&&$(this).attr("data-type")==d){$(this).remove()}});f.button("reset");$("#delete_confirm").modal("hide")});$("#selectcode").val("-1").change()}function notify(g,k){var e=0;if(arguments.length==3){e=arguments[2]}var i;var j=new Date().valueOf();if($.trim(k)=="alert"){i=setTimeout(function(){alert(g);$("#nort_"+j).remove()},e*1000*60)}else{i=setTimeout(function(){get_nortifify("Notification",g);$("#nort_"+j).remove()},e*1000*60)}norts.push(i);var h=$("#nort_all tr").length;h++;var d='<span class="tooltip_div" title="'+g+'">'+g.substr(0,20)+"</span>";var f="<tr id='nort_"+j+"'><td>"+h+"</td><td>"+d+"</td><td class='rtime'></td><td><i class='glyphicon glyphicon-trash tooltip_div' title='Delete' onclick='del_nort("+i+");$(this).parent().parent().remove();'> </i></td></tr>";$("#nort_all").append(f);remain_time($("#nort_"+j+" .rtime"),0,e,0)}function create_element(d,e){var f=document.createElement(d);if(typeof e=="object"){$.each(e,function(b,a){if(b!="html"){$(f).attr(b,a)}else{$(f).html(a)}})}return f}function del_nort(a){clearTimeout(a)}function remain_time(d,a,e,f){var b=(a*60*60)+(e*60)+(f);var c=setInterval(function(){b--;a=Math.floor((b/3600),2);e=Math.floor(((b%3600)/60),2);f=(b%60);d.text(a+":"+e+":"+f);if(a==0&&e==0&&f==0){clearInterval(c);d.text("Stopped")}},1000)}String.prototype.replaceBetween=function(f,e,d){return this.substring(0,f)+d+this.substring(e)};function insert_js(c){if(c!=""&&c!=null){var d=document.createElement("script");d.setAttribute("src",c);document.body.appendChild(d)}}function insert_acejs(f,e){if(f!=""&&f!=null&&$('[data-script="'+f+'"]').length==0){var d=document.createElement("script");d.setAttribute("src","scripts/jquery-ace/ace/"+e+"-"+f+".js");d.setAttribute("data-script",f);d.setAttribute("onload",'loaded.push($(this).attr("data-script"))');document.body.appendChild(d)}}function set_theme(){var c=$.trim($("#code_theme").val());localStorage.setItem("code_theme",c);var d=$.trim($("#code_mode").val());localStorage.setItem("code_mode",d);re_code()};