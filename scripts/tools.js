
var norts=Array();if(localStorage.getItem("code_mode")==null){localStorage.setItem("code_mode","php")}if(localStorage.getItem("code_theme")==null){localStorage.setItem("code_theme","chrome")}$("#code_mode").val(localStorage.getItem("code_mode"));$("#code_theme").val(localStorage.getItem("code_theme"));var loaded=Array();var added_scripts=["jquery-2.0.3.min.js","bootstrap.min.js","ace.js","theme-chrome.js","mode-php.js","jquery-ace.min.js","tools.js"];$(document).ready(function(a){$("body").tooltip({selector:".tooltip_div"});$("#type,[name='lang']").change(function(b){show_result()});$("#phpinfo").click(function(b){b.preventDefault();$.post("index.php",{code:"phpinfo()",lang:"p"},function(c){$("#result").html(c);$("#mytabs li:eq(1)>a").tab("show")})});$("#savefile").popover({html:true,content:'<input placeholder="Name" type="text" class="form-control" id="sname"/><br/><a id="save_pop_btn" data-loading-text="Saving.." class="btn btn-success btn-xs" onclick="save_file()"><i class="glyphicon glyphicon-floppy-disk"></i> Save</a>'});$("#delete_confirm").on("show.bs.modal",function(){var b=$.trim($("#selectcode").val());var c=$.trim($("#selectcode option:selected").attr("data-type"));$("#del_fname").html("<b>"+b+" ("+c+")</b>?")});$(document.body).on("keydown","#sname",function(c){var b=[111,106,186,220,191,222,188];if(($.inArray(c.which,b)!=-1)||(c.which==56&&c.shiftKey)||(c.which==190&&c.shiftKey)){c.preventDefault()}});$("#selectcode").change(function(){var c=$.trim($(this).val());var b=$.trim($("#selectcode option:selected").attr("data-type"));if(c!="-1"){$.post("index.php?function=view",{fname:b+"/"+c},function(d){$("#type").val(d);$(".file_actions").show();if(b=="php"){$('[name="lang"][value="p"]').prop("checked",true);$("#type").blur()}else{if(b="html"){$('[name="lang"][value="h"]').prop("checked",true);$("#type").blur()}}$("#download_file").attr("href","index.php?function=download&file="+b+"/"+c+"&type="+b);re_code()})}else{$(".file_actions").hide();$("#updatefile").hide()}});$("#updatefile").click(function(d){var b=$.trim($("#selectcode").val());var c=$.trim($("#selectcode option:selected").attr("data-type"));$("#updatefile").button("loading");$.post("index.php?function=update",{file:b,data:$("#type").val(),type:c},function(){$("#updatefile").button("reset")})});$("#nort_prev").click(function(){var d=$.trim($("#nort_msg").val());var c=$('[name="nort_type"]:checked').val();if(d==""){var b=create_element("p",{html:"Please enter message","class":"text-danger"});$("#nort_msg").after(b);$("#nort_msg").focus();return false}$("#nort_msg").next(".text-danger").remove();notify(d,c)});$("#nort_me").click(function(){var e=$.trim($("#nort_msg").val());var d=$('[name="nort_type"]:checked').val();var b=$.trim($("#nort_time").val());if(e==""){var c=create_element("p",{html:"Please enter message","class":"text-danger"});if($("#nort_msg").next(".text-danger").length==0){$("#nort_msg").after(c)}$("#nort_msg").focus();return false}$("#nort_msg").next(".text-danger").remove();if(b==""||isNaN(b)){var c=create_element("p",{html:"Please enter valid number","class":"text-danger"});if($("#nort_time").next(".text-danger").length==0){$("#nort_time").after(c)}$("#nort_time").focus();return false}$("#nort_time").next(".text-danger").remove();$("#nort_msg").val("");$("#nort_time").val("");$('[name="nort_type"][value="desk"]').prop("checked",true);notify(e,d,b);$("#notify_me").modal("hide")});$("#length_finder").keyup(function(b){$("#length_result").text($(this).val().length)}).change(function(){$("#length_result").text($(this).val().length)});re_code();if($("#result").text().trim()!=""){$("#mytabs li:eq(1)>a").tab("show");$("#mytabs li:eq(0)>a").one("click",function(){re_code()})}});function re_code(){var b=localStorage.getItem("code_mode");var a=localStorage.getItem("code_theme");insert_acejs(b,"mode");insert_acejs(a,"theme");if($.inArray(b,loaded)>=0&&$.inArray(a,loaded)>-0){make_ace(b,a)}else{setTimeout(function(){make_ace(b,a)},500)}}function make_ace(a,b){var c=$("#type").data("ace");if(c!=undefined){c.destroy()}$("#type").ace({theme:b,lang:a})}function show_result(){$.post("index.php",{code:$("#type").val(),lang:$("input[type=radio]:checked").val()},function(a){$("#result").html(a)})}function jstoarray(){$.post("index.php",{json:$("#type").val()},function(a){$("#result").html(a);$("#mytabs li:eq(1)>a").tab("show")})}function get_nortifify(a,c){if(!("Notification" in window)){console.log("This browser does not support desktop notification");alert(a,c)}else{if(Notification.permission==="granted"){var b=new Notification(a,{body:c});b.onclick=function(){window.focus();b.close()}}else{if(Notification.permission!=="denied"){Notification.requestPermission(function(d){if(d==="granted"){var e=new Notification(a,{body:c});e.onclick=function(){window.focus();e.close()}}else{alert(a,c)}})}else{alert(a,c)}}}}function save_file(){var a=$.trim($("#sname").val());if($.trim($("#type").val())==""){$("#sname").tooltip({title:"Code seems to be empty!!"});$("#sname").tooltip("show");return false}if(a==""){$("#sname").tooltip({title:"Please enter a name"});$("#sname").tooltip("show");return false}$("#save_pop_btn").button("loading");var b=$('[name="lang"]:checked').attr("data-type")!=""?$('[name="lang"]:checked').attr("data-type"):"html";$.post("index.php?function=save",{file:a,data:$("#type").val(),type:b},function(c){if($.trim(c)=="d"){$("#sname").tooltip({title:"Please enter a different name"});$("#sname").tooltip("show")}else{$("#selectcode").append("<option data-type='"+b+"' value='"+a+"'>"+a+"</option>");$("#sname").tooltip("destroy");$("#savefile").popover("hide");$("select").val(a).change()}$("#save_pop_btn").button("reset")})}function delete_file(c){var b=$.trim($("#selectcode option:selected").attr("data-type"));var a=$.trim($("#selectcode").val());if(a=="-1"){return false}c.button("loading");$.post("index.php?function=delete",{file:b+"/"+a},function(d){$("#selectcode option").each(function(){if($(this).attr("value")==a&&$(this).attr("data-type")==b){$(this).remove()}});c.button("reset");$("#delete_confirm").modal("hide")});$("#selectcode").val("-1").change()}function notify(a,n){var m=0;if(arguments.length==3){m=arguments[2]}var o;var c=new Date().valueOf();if($.trim(n)=="alert"){o=setTimeout(function(){alert(a);$("#nort_"+c).remove()},m*1000*60)}else{o=setTimeout(function(){get_nortifify("Notification",a);$("#nort_"+c).remove()},m*1000*60)}norts.push(o);var p=$("#nort_all tr").length;p++;var b='<span class="tooltip_div" title="'+a+'">'+a.substr(0,20)+"</span>";var l="<tr id='nort_"+c+"'><td>"+p+"</td><td>"+b+"</td><td class='rtime'></td><td><i class='glyphicon glyphicon-trash tooltip_div' title='Delete' onclick='del_nort("+o+");$(this).parent().parent().remove();'> </i></td></tr>";$("#nort_all").append(l);remain_time($("#nort_"+c+" .rtime"),0,m,0)}function create_element(b,a){var c=document.createElement(b);if(typeof a=="object"){$.each(a,function(d,e){if(d!="html"){$(c).attr(d,e)}else{$(c).html(e)}})}return c}function del_nort(b){clearTimeout(b)}function remain_time(i,l,h,g){var k=(l*60*60)+(h*60)+(g);var j=setInterval(function(){k--;l=Math.floor((k/3600),2);h=Math.floor(((k%3600)/60),2);g=(k%60);i.text(l+":"+h+":"+g);if(l==0&&h==0&&g==0){clearInterval(j);i.text("Stopped")}},1000)}String.prototype.replaceBetween=function(c,a,b){return this.substring(0,c)+b+this.substring(a)};function insert_js(b){if(b!=""&&b!=null){var a=document.createElement("script");a.setAttribute("src",b);document.body.appendChild(a)}}function insert_acejs(c,a){if(c!=""&&c!=null&&$('[data-script="'+c+'"]').length==0){var b=document.createElement("script");b.setAttribute("src","scripts/jquery-ace/ace/"+a+"-"+c+".js");b.setAttribute("data-script",c);b.setAttribute("onload",'loaded.push($(this).attr("data-script"))');document.body.appendChild(b)}}function set_theme(){var b=$.trim($("#code_theme").val());localStorage.setItem("code_theme",b);var a=$.trim($("#code_mode").val());localStorage.setItem("code_mode",a);re_code()};