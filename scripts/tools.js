$(document).ready(function(a){$("#type").blur(function(b){$.post("index.php",{code:$("#type").val(),lang:$("input[type=radio]:checked").val()},function(c){$("#result").html(c)})});$("#phpinfo").click(function(b){b.preventDefault();$.post("index.php",{code:"phpinfo()",lang:"p"},function(c){$("#result").html(c)})});$("#savefile").popover({html:true,content:'<input placeholder="Name" type="text" class="form-control" id="sname"/><br/><a id="save_pop_btn" data-loading-text="Saving.." class="btn btn-success btn-xs" onclick="save_file()"><i class="glyphicon glyphicon-floppy-disk"></i> Save</a>'});$("#delete_confirm").on("show.bs.modal",function(){var b=$.trim($("#selectcode").val());var c=$.trim($("#selectcode option:selected").attr("data-type"));$("#del_fname").html("<b>"+b+" ("+c+")</b>?")});$(document.body).on("keydown","#sname",function(c){var b=[111,106,186,220,191,222,188];if(($.inArray(c.which,b)!=-1)||(c.which==56&&c.shiftKey)||(c.which==190&&c.shiftKey)){c.preventDefault()}});$("#selectcode").change(function(){var c=$.trim($(this).val());var b=$.trim($("#selectcode option:selected").attr("data-type"));if(c!="-1"){$.post("index.php?function=view",{fname:b+"/"+c},function(d){$("#type").val(d);$(".file_actions").show();if(b=="php"){$('[name="lang"][value="p"]').prop("checked",true);$("#type").blur()}else{if(b="html"){$('[name="lang"][value="h"]').prop("checked",true);$("#type").blur()}}$("#download_file").attr("href","index.php?function=download&file="+b+"/"+c+"&type="+b)})}else{$(".file_actions").hide();$("#updatefile").hide()}});$("#updatefile").click(function(d){var b=$.trim($("#selectcode").val());var c=$.trim($("#selectcode option:selected").attr("data-type"));$("#updatefile").button("loading");$.post("index.php?function=update",{file:b,data:$("#type").val(),type:c},function(){$("#updatefile").button("reset")})});$("#nort_prev").click(function(){var d=$.trim($("#nort_msg").val());var c=$('[name="nort_type"]:checked').val();if(d==""){var b=create_element("p",{html:"Please enter message","class":"text-danger"});$("#nort_msg").after(b);$("#nort_msg").focus();return false}$("#nort_msg").next(".text-danger").remove();notify(d,c)});$("#nort_me").click(function(){var e=$.trim($("#nort_msg").val());var d=$('[name="nort_type"]:checked').val();var b=$.trim($("#nort_time").val());if(e==""){var c=create_element("p",{html:"Please enter message","class":"text-danger"});if($("#nort_msg").next(".text-danger").length==0){$("#nort_msg").after(c)}$("#nort_msg").focus();return false}$("#nort_msg").next(".text-danger").remove();if(b==""||isNaN(b)){var c=create_element("p",{html:"Please enter valid number","class":"text-danger"});if($("#nort_time").next(".text-danger").length==0){$("#nort_time").after(c)}$("#nort_time").focus();return false}$("#nort_time").next(".text-danger").remove();$("#nort_msg").val("");$("#nort_time").val("");$('[name="nort_type"][value="desk"]').prop("checked",true);notify(e,d,b);$("#notify_me").modal("hide")});$("#length_finder").keyup(function(b){$("#length_result").text($(this).val().length)}).change(function(){$("#length_result").text($(this).val().length)})});function get_nortifify(c,b){if(!("Notification" in window)){console.log("This browser does not support desktop notification");alert(c,b)}else{if(Notification.permission==="granted"){var a=new Notification(c,{body:b});a.onclick=function(){window.focus();a.close()}}else{if(Notification.permission!=="denied"){Notification.requestPermission(function(d){if(d==="granted"){var e=new Notification(c,{body:b});e.onclick=function(){window.focus();e.close()}}else{alert(c,b)}})}else{alert(c,b)}}}}function save_file(){var a=$.trim($("#sname").val());if($.trim($("#type").val())==""){$("#sname").tooltip({title:"Code seems to be empty!!"});$("#sname").tooltip("show");return false}if(a==""){$("#sname").tooltip({title:"Please enter a name"});$("#sname").tooltip("show");return false}$("#save_pop_btn").button("loading");var b=$('[name="lang"]:checked').attr("data-type")!=""?$('[name="lang"]:checked').attr("data-type"):"html";$.post("index.php?function=save",{file:a,data:$("#type").val(),type:b},function(c){if($.trim(c)=="d"){$("#sname").tooltip({title:"Please enter a different name"});$("#sname").tooltip("show")}else{$("#selectcode").append("<option data-type='"+b+"' value='"+a+"'>"+a+"</option>");$("#sname").tooltip("destroy");$("#savefile").popover("hide")}$("#save_pop_btn").button("reset")})}function delete_file(b){var a=$.trim($("#selectcode option:selected").attr("data-type"));var c=$.trim($("#selectcode").val());if(c=="-1"){return false}b.button("loading");$.post("index.php?function=delete",{file:a+"/"+c},function(d){$("#selectcode option").each(function(){if($(this).attr("value")==c&&$(this).attr("data-type")==a){$(this).remove()}});b.button("reset");$("#delete_confirm").modal("hide")});$('#selectcode').val('-1').change();}function notify(c,b){var a=0;if(arguments.length==3){a=arguments[2]}if($.trim(b)=="alert"){setTimeout(function(){alert(c)},a*1000*60)}else{setTimeout(function(){get_nortifify("Notification",c)},a*1000*60)}}function create_element(a,c){var b=document.createElement(a);if(typeof c=="object"){$.each(c,function(d,f){if(d!="html"){$(b).attr(d,f)}else{$(b).html(f)}})}return b};